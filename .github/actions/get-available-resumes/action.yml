name: "Get Available Resumes"
description: "Discovers all resume JSON files in the repository"
outputs:
  resumes:
    description: "Resumes information"
    value: ${{ steps.get-available-resumes.outputs.resumes }}
runs:
  using: "composite"
  steps:
    - id: get-available-resumes
      uses: actions/github-script@ed597411d8f924073f98dfc5c65a23a2325f34cd # v8.0.0
      with:
        script: |
          const path = require('node:path');
          const getAvailableResumes = require(path.join(process.env.GITHUB_ACTION_PATH, 'get-available-resumes.js'));
          const resumes = getAvailableResumes();

          core.setOutput('resumes', JSON.stringify(resumes));
